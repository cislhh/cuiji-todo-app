# 云开发部署指南

## 第一步：云开发环境配置

### 1. 开通云开发服务

1. 在微信开发者工具中打开项目
2. 点击"云开发"按钮
3. 开通云开发服务（免费额度足够开发使用）

### 2. 初始化云开发

1. 在 HBuilderX 中右键 `uniCloud` 目录
2. 选择"关联云服务空间或项目"
3. 选择对应的云服务空间

### 3. 上传云函数

1. 右键 `uniCloud/cloudfunctions` 目录
2. 选择"上传所有云函数及公共模块"
3. 等待上传完成

### 4. 初始化数据库

1. 在 HBuilderX 中右键 `uniCloud/database` 目录
2. 选择"初始化云数据库"
3. 或者手动在 uniCloud 控制台创建 `todo-tasks` 集合

## 第二步：测试功能

### 1. 访问任务管理页面

- 路径：`pages/tasks/tasks`
- 功能：查看任务列表、添加任务、删除任务

### 2. 测试添加任务

1. 点击右上角 "+" 按钮
2. 填写任务信息
3. 点击确定
4. 查看任务是否成功添加到列表

### 3. 测试删除任务

1. 在任务列表中点击垃圾桶图标
2. 确认删除
3. 查看任务是否从列表中消失

## 第三步：云函数说明

### task-create（创建任务）

- **功能**：创建新的任务
- **参数**：
  - `title`：任务标题（必填）
  - `description`：任务描述（可选）
  - `priority`：优先级 1-3（可选，默认 2）
  - `category`：分类（可选，默认"默认分类"）
  - `dueDate`：截止日期（可选）

### task-list（获取任务列表）

- **功能**：获取任务列表
- **参数**：
  - `page`：页码（可选，默认 1）
  - `pageSize`：每页数量（可选，默认 20）
  - `category`：分类筛选（可选）
  - `completed`：完成状态筛选（可选）

### task-delete（删除任务）

- **功能**：删除指定任务
- **参数**：
  - `taskId`：任务 ID（必填）

## 第四步：数据库结构

### todo-tasks 集合字段

- `_id`：自动生成的 ID
- `title`：任务标题
- `description`：任务描述
- `completed`：是否完成（布尔值）
- `priority`：优先级（1-3）
- `category`：分类
- `dueDate`：截止日期
- `createTime`：创建时间
- `updateTime`：更新时间
- `userId`：用户 ID（当前使用 IP 作为临时标识）

## 注意事项

1. **免费额度**：uniCloud 提供免费额度，足够开发和小规模使用
2. **数据安全**：当前使用 IP 作为用户标识，生产环境需要实现用户认证
3. **错误处理**：所有云函数都包含完整的错误处理机制
4. **数据验证**：前端和后端都有数据验证，确保数据完整性

## 下一步开发计划

1. 实现用户认证系统
2. 添加任务完成状态切换
3. 实现任务编辑功能
4. 添加任务分类管理
5. 实现数据实时同步
6. 添加任务搜索功能
7. 实现任务统计功能
