{"version":3,"file":"Modal.js","sources":["components/Common/Modal.vue","../../../software/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovcHJvZ3JhbW1pbmcvY3VpamktdG9kby1hcHAvY3VpamktdG9kby1hcHAvY29tcG9uZW50cy9Db21tb24vTW9kYWwudnVl"],"sourcesContent":["<template>\n  <view v-if=\"visible\" class=\"modal-overlay\" @click=\"handleOverlayClick\">\n    <view class=\"modal-container\" @click.stop>\n      <view class=\"modal-body\">\n        <slot></slot>\n      </view>\n\n      <view class=\"modal-footer\" v-if=\"showFooter\">\n        <slot name=\"footer\">\n          <button\n            class=\"modal-btn modal-btn-cancel\"\n            @click=\"handleCancel\"\n            v-if=\"showCancel\"\n          >\n            {{ cancelText }}\n          </button>\n          <button\n            class=\"modal-btn modal-btn-confirm\"\n            @click=\"handleConfirm\"\n            v-if=\"showConfirm\"\n          >\n            {{ confirmText }}\n          </button>\n        </slot>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup lang=\"ts\">\nimport { watch } from \"vue\";\n\ninterface ModalProps {\n  visible: boolean;\n  maskClosable?: boolean;\n  showFooter?: boolean;\n  showCancel?: boolean;\n  showConfirm?: boolean;\n  cancelText?: string;\n  confirmText?: string;\n  width?: string;\n  height?: string;\n  animation?: boolean;\n}\n\ninterface ModalEmits {\n  (e: \"update:visible\", value: boolean): void;\n  (e: \"close\"): void;\n  (e: \"cancel\"): void;\n  (e: \"confirm\"): void;\n}\n\nconst props = withDefaults(defineProps<ModalProps>(), {\n  visible: false,\n  maskClosable: true,\n  showFooter: true,\n  showCancel: true,\n  showConfirm: true,\n  cancelText: \"取消\",\n  confirmText: \"确认\",\n  width: \"600rpx\",\n  height: \"auto\",\n  animation: true,\n});\n\nconst emit = defineEmits<ModalEmits>();\n\nconst handleCancel = () => {\n  emit(\"update:visible\", false);\n  emit(\"cancel\");\n};\n\nconst handleConfirm = () => {\n  emit(\"confirm\");\n};\n\nconst handleOverlayClick = () => {\n  if (props.maskClosable) {\n    emit(\"update:visible\", false);\n    emit(\"close\");\n  }\n};\n\n// 监听 visible 变化，控制页面滚动\nwatch(\n  () => props.visible,\n  (newVal) => {\n    if (newVal) {\n      // 禁止页面滚动\n      uni.pageScrollTo({\n        scrollTop: 0,\n        duration: 0,\n      });\n    }\n  }\n);\n</script>\n\n<style lang=\"scss\" scoped>\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  animation: fadeIn 0.3s ease-out;\n}\n\n.modal-container {\n  background: white;\n  border-radius: 20rpx;\n  max-width: 90vw;\n  max-height: 80vh;\n  overflow: hidden;\n  animation: slideIn 0.3s ease-out;\n  box-shadow: 0 20rpx 40rpx rgba(0, 0, 0, 0.1);\n}\n\n.modal-body {\n  padding: 40rpx;\n  max-height: 60vh;\n  overflow-y: auto;\n}\n\n.modal-footer {\n  display: flex;\n  gap: 20rpx;\n  padding: 20rpx 40rpx 40rpx;\n  border-top: 1rpx solid #f0f0f0;\n}\n\n.modal-btn {\n  flex: 1;\n  height: 80rpx;\n  border-radius: 40rpx;\n  font-size: 28rpx;\n  border: none;\n\n  &:active {\n    opacity: 0.8;\n  }\n}\n\n.modal-btn-cancel {\n  background: #f5f5f5;\n  color: #666;\n}\n\n.modal-btn-confirm {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n}\n\n// 动画效果\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-50rpx) scale(0.9);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n\n// 响应式设计\n@media (max-width: 750rpx) {\n  .modal-container {\n    margin: 40rpx;\n    max-width: calc(100vw - 80rpx);\n  }\n\n  .modal-body,\n  .modal-footer {\n    padding-left: 30rpx;\n    padding-right: 30rpx;\n  }\n}\n</style>\n","import Component from 'D:/programming/cuiji-todo-app/cuiji-todo-app/components/Common/Modal.vue'\nwx.createComponent(Component)"],"names":["watch","uni"],"mappings":";;;;;;;;;;;;;;;;;;AAoDA,UAAM,QAAQ;AAad,UAAM,OAAO;AAEb,UAAM,eAAe,MAAM;AACzB,WAAK,kBAAkB,KAAK;AAC5B,WAAK,QAAQ;AAAA,IAAA;AAGf,UAAM,gBAAgB,MAAM;AAC1B,WAAK,SAAS;AAAA,IAAA;AAGhB,UAAM,qBAAqB,MAAM;AAC/B,UAAI,MAAM,cAAc;AACtB,aAAK,kBAAkB,KAAK;AAC5B,aAAK,OAAO;AAAA,MACd;AAAA,IAAA;AAIFA,kBAAA;AAAA,MACE,MAAM,MAAM;AAAA,MACZ,CAAC,WAAW;AACV,YAAI,QAAQ;AAEVC,wBAAAA,MAAI,aAAa;AAAA,YACf,WAAW;AAAA,YACX,UAAU;AAAA,UAAA,CACX;AAAA,QACH;AAAA,MACF;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;AC7FF,GAAG,gBAAgB,SAAS;"}